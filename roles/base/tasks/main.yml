- name: Update cache
  apt:
      update_cache: yes
      cache_valid_time: 3600

- name: Update all packages to the latest version
  apt:
    upgrade: dist

- name: Install apt packages
  apt:
      pkg: "{{item}}"
      state: installed
  with_items:
      - python-dev
      - python3-pip
      - python-pip
      # for mounting windows filesystem
      - ntfs-3g
      # for allowing apt to use a repository over HTTPS
      - apt-transport-https
      - ca-certificates
      - curl
      - gnupg2
      - software-properties-common

- name: Install python packages
  pip:
      name: docker-py

- name: Set /etc/motd
  file:
      src: ./roles/base/files/motd
      dest: /etc/motd
